# DaVinci Resolve Library Patch

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

A simple script to fix a common library conflict issue that prevents DaVinci Resolve from starting on some Linux distributions.

## Quick Install

For most users, the easiest way to apply the patch is to run the following command in your terminal. It will automatically download and execute the script.

```sh
curl -fsSL https://raw.githubusercontent.com/gabrielcapilla/resolve-lib-patch/main/patch.sh | sh
```

## Usage

The script is easy to use and provides options to either apply or revert the patch.

### Applying the Patch

Simply run the script without any arguments (or use the quick install command above):

```sh
./patch.sh
```

The script will move the necessary libraries and notify you when the process is complete.

### Reverting the Patch

If you need to undo the changes, you can use the `--revert` flag. This will move the libraries back to their original location.

```sh
./patch.sh --revert
```

## The Problem

When trying to launch DaVinci Resolve, you might encounter the following error:

```
/opt/resolve/bin/resolve: symbol lookup error: /usr/lib/libgdk_pixbuf-2.0.so.0: undefined symbol: g_task_set_static_name
```

This issue occurs because DaVinci Resolve ships with its own version of the `glib2` library but attempts to use the system's `pango` library. The system's `pango` expects a newer version of `glib2` than the one provided by Resolve, causing a conflict that prevents the application from starting.

## The Solution

This script safely resolves the issue by moving the conflicting `glib2` libraries (`libgio`, `libglib`, `libgmodule`, `libgobject`) from the `/opt/resolve/libs` directory to a new subdirectory named `_disabled`.

By doing this, it forces DaVinci Resolve to use the system's `glib2` version, which is compatible with `pango` and allows the program to launch correctly.

**Note:** While this solution enables the application to run, it means Resolve will use a version of `glib2` it wasn't officially tested with. This could, in theory, cause other issues. However, for most users, it allows the software to work without problems.

## Manual Steps

If you prefer not to run the script directly, you can apply the fix manually with the following commands:

1.  **Navigate to the Resolve libraries directory:**
    ```sh
    cd /opt/resolve/libs
    ```

2.  **Create a directory to disable the libraries:**
    ```sh
    sudo mkdir _disabled
    ```

3.  **Move the conflicting libraries into the new folder:**
    ```sh
    sudo mv libgio* libglib* libgmodule* libgobject* _disabled/
    ```

To revert the changes manually, simply move the files from the `_disabled` folder back to `/opt/resolve/libs` and remove the `_disabled` directory.

## License

This project is licensed under the [MIT License](LICENSE).

---

**Documentation automatically generated by the artificial intelligence model [Gemini CLI](https://github.com/google-gemini/gemini-cli).*
